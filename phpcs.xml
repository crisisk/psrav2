<?xml version="1.0"?>
<ruleset name="Sevensa WPCS Coding Standards">
    <description>Sevensa WPCS Coding Standards</description>

    <!-- Scan all files in directory -->
    <file>.</file>

    <!-- Scan only PHP files -->
    <arg name="extensions" value="php"/>

    <!-- Show colors in console -->
    <arg value="-colors"/>

    <!-- Show sniff codes in all reports -->
    <arg value="ns"/>

    <!-- Use PSR-12 as a base -->
    <rule ref="PSR12"/>

    <!-- Use WordPress Coding Standards where applicable -->
    <rule ref="WordPress">
        <!-- Exclude rules that conflict with PSR-12 -->
        <exclude name="WordPress.Arrays.ArrayDeclarationSpacing"/>
        <exclude name="WordPress.Arrays.ArrayKeySpacingRestrictions"/>
        <exclude name="WordPress.Arrays.CommaAfterArrayItem"/>
        <exclude name="WordPress.WhiteSpace.ControlStructureSpacing"/>
        <exclude name="WordPress.WhiteSpace.OperatorSpacing"/>
        <exclude name="WordPress.WhiteSpace.PrecisionAlignment"/>
        <exclude name="WordPress.PHP.YodaConditions"/>
        <exclude name="Generic.WhiteSpace.DisallowSpaceIndent"/>
        <exclude name="Generic.WhiteSpace.ScopeIndent"/>
    </rule>

    <!-- Include WordPress security best practices -->
    <rule ref="WordPress.Security"/>

    <!-- Include WordPress database best practices -->
    <rule ref="WordPress.DB"/>

    <!-- Include WordPress escaping best practices -->
    <rule ref="WordPress.Security.EscapeOutput"/>
    <rule ref="WordPress.Security.NonceVerification"/>

    <!-- Include WordPress sanitization best practices -->
    <rule ref="WordPress.Security.ValidatedSanitizedInput"/>

    <!-- Include WordPress hook best practices -->
    <rule ref="WordPress.NamingConventions.PrefixAllGlobals"/>

    <!-- Include WordPress internationalization best practices -->
    <rule ref="WordPress.WP.I18n"/>

    <!-- Enforce 4 spaces for indentation -->
    <rule ref="Generic.WhiteSpace.ScopeIndent">
        <properties>
            <property name="indent" value="4"/>
            <property name="tabIndent" value="false"/>
        </properties>
    </rule>

    <!-- Enforce 100 character line length -->
    <rule ref="Generic.Files.LineLength">
        <properties>
            <property name="lineLimit" value="100"/>
            <property name="absoluteLineLimit" value="120"/>
        </properties>
    </rule>

    <!-- Enforce snake_case for function names -->
    <rule ref="WordPress.NamingConventions.ValidFunctionName">
        <properties>
            <property name="strict" value="false"/>
        </properties>
    </rule>

    <!-- Enforce Snake_Case for class names -->
    <rule ref="WordPress.NamingConventions.ValidClassName">
        <properties>
            <property name="strict" value="false"/>
        </properties>
    </rule>

    <!-- Exclude some directories from being scanned -->
    <exclude-pattern>/vendor/</exclude-pattern>
    <exclude-pattern>/node_modules/</exclude-pattern>
    <exclude-pattern>/tests/</exclude-pattern>
    <exclude-pattern>/build/</exclude-pattern>
    <exclude-pattern>/dist/</exclude-pattern>
    <exclude-pattern>/assets/</exclude-pattern>
    <exclude-pattern>*.min.js</exclude-pattern>
    <exclude-pattern>*.min.css</exclude-pattern>
</ruleset>
